@{
    ViewData["Title"] = "Home";
    var esAuditor = User.IsInRole("Auditor");
    var esAdmin = User.IsInRole("Admin") || User.IsInRole("Administrador");
    var esDigi = User.IsInRole("Digitalizador");
    var esGerente = User.IsInRole("Gerente");

}

<section class="hero-white">
    <div class="container py-5">
        <div class="row align-items-center g-4">
            <div class="col-lg-7">
                <h1 class="display-5 fw-bold text-primary mb-3">Bienvenido de nuevo</h1>
                <p class="lead text-secondary mb-4">
                    Gestiona legislaciones, audita segmentos y genera reportes — todo en un mismo lugar.
                </p>
                <div class="d-flex flex-wrap gap-2">
                    <a asp-controller="Empresas" asp-action="Index" class="btn btn-primary btn-lg">
                        <i class="bi bi-building me-2"></i> Mis empresas
                    </a>
                </div>
            </div>
        </div>

        <div class="row g-3 mt-5">
            <div class="col-md-6 col-lg-3">
                <a asp-controller="Empresas" asp-action="Index" class="card card-quick h-100">
                    <div class="card-body">
                        <div class="icon bg-primary-subtle text-primary"><i class="bi bi-building"></i></div>
                        <div class="title">Gestiones por empresas</div>
                        <div class="subtitle">Empresas asignadas</div>
                    </div>
                </a>
            </div>
            @if (esAdmin)
            {
                <div class="col-md-6 col-lg-3">
                    <a asp-controller="Usuario" asp-action="Index" class="card card-quick h-100">
                        <div class="card-body">
                            <div class="icon bg-primary-subtle text-primary"><i class="bi bi-building"></i></div>
                            <div class="title">Usuarios</div>
                            <div class="subtitle">Gestionar usuarios</div>
                        </div>
                    </a>
                </div>
            }
            <div class="col-md-6 col-lg-3">
                <form asp-controller="Auth" asp-action="Logout" method="post" class="m-0">
                    @Html.AntiForgeryToken()

                    <button type="submit" class="card card-quick h-100 w-100 text-start p-0 border-0 bg-transparent">
                        <div class="card-body">
                            <div class="icon bg-danger-subtle text-danger">
                                <i class="bi bi-box-arrow-right"></i>
                            </div>
                            <div class="title">Salir</div>
                            <div class="subtitle">Cerrar sesión</div>
                        </div>
                    </button>
                </form>
            </div>

        </div>
    </div>
</section>
