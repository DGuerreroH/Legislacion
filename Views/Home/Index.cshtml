@{
    ViewData["Title"] = "Home";
    var esAuditor = User.IsInRole("Auditor");
    var esAdmin = User.IsInRole("Admin") || User.IsInRole("Administrador");
    var esDigi = User.IsInRole("Digitalizador");
}

<section class="hero-white">
    <div class="container py-5">
        <div class="row align-items-center g-4">
            <div class="col-lg-7">
                <h1 class="display-5 fw-bold text-primary mb-3">Bienvenido de nuevo</h1>
                <p class="lead text-secondary mb-4">
                    Gestiona legislaciones, audita segmentos y genera reportes — todo en un mismo lugar.
                </p>
                <div class="d-flex flex-wrap gap-2">
                    <a asp-controller="Empresas" asp-action="Index" class="btn btn-primary btn-lg">
                        <i class="bi bi-building me-2"></i> Mis empresas
                    </a>
              @*       @if (esAuditor)
                    {
                        <a asp-controller="Auditoria" asp-action="Index" class="btn btn-outline-primary btn-lg">
                            <i class="bi bi-clipboard-check me-2"></i> Auditar
                        </a>
                    }
                    @if (esDigi)
                    {
                        <a asp-controller="Legislacion" asp-action="Index" class="btn btn-outline-primary btn-lg">
                            <i class="bi bi-journal-plus me-2"></i> Legislaciones
                        </a>
                    } *@
                </div>
            </div>
@* 
            <div class="col-lg-5">
                <div class="hero-illustration rounded-4 border">
                    <div class="p-4">
                        <div class="small text-uppercase text-primary fw-semibold mb-2">Estado</div>
                        <div class="d-flex align-items-center gap-3 mb-3">
                            <span class="badge bg-success-subtle text-success border border-success-subtle">Sistema operativo</span>
                            <span class="badge bg-primary-subtle text-primary border border-primary-subtle">v1.0</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-primary" style="width: 42%"></div>
                        </div>
                        <div class="text-muted small mt-2">Avance general</div>
                    </div>
                </div>
            </div> *@
        </div>

        <div class="row g-3 mt-5">
            <div class="col-md-6 col-lg-3">
                <a asp-controller="Empresas" asp-action="Index" class="card card-quick h-100">
                    <div class="card-body">
                        <div class="icon bg-primary-subtle text-primary"><i class="bi bi-building"></i></div>
                        <div class="title">Empresas</div>
                        <div class="subtitle">Ver y administrar</div>
                    </div>
                </a>
            </div>
            @if (esAdmin)
            {
                <div class="col-md-6 col-lg-3">
                    <a asp-controller="Empresa" asp-action="Index" class="card card-quick h-100">
                        <div class="card-body">
                            <div class="icon bg-primary-subtle text-primary"><i class="bi bi-building"></i></div>
                            <div class="title">Admin Empresa</div>
                            <div class="subtitle">Lista empresa</div>
                        </div>
                    </a>
                </div>
            }
            <div class="col-md-6 col-lg-3">
                <form asp-controller="Auth" asp-action="Logout" method="post" class="m-0">
                    @Html.AntiForgeryToken()

                    <button type="submit" class="card card-quick h-100 w-100 text-start p-0 border-0 bg-transparent">
                        <div class="card-body">
                            <div class="icon bg-danger-subtle text-danger">
                                <i class="bi bi-box-arrow-right"></i>
                            </div>
                            <div class="title">Salir</div>
                            <div class="subtitle">Cerrar sesión</div>
                        </div>
                    </button>
                </form>
            </div>

        </div>
    </div>
</section>
